<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="description" content="What the package does (one paragraph).">
<title>A broom-like Interface to Lab Data • mop</title>
<script src="deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="deps/bootstrap-5.1.0/bootstrap.min.css" rel="stylesheet">
<script src="deps/bootstrap-5.1.0/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- bootstrap-toc --><script src="https://cdn.rawgit.com/afeld/bootstrap-toc/v1.0.1/dist/bootstrap-toc.min.js"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="pkgdown.js"></script><meta property="og:title" content="A broom-like Interface to Lab Data">
<meta property="og:description" content="What the package does (one paragraph).">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light"><div class="container">
    
    <a class="navbar-brand me-2" href="index.html">mop</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.0.0.9000</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item">
  <a class="nav-link" href="reference/index.html">Reference</a>
</li>
      </ul>
<form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="search.json" id="search-input" placeholder="Search for" autocomplete="off">
</form>

      <ul class="navbar-nav"></ul>
</div>

    
  </div>
</nav><div class="container template-home">
<div class="row">
  <main id="main" class="col-md-9"><div class="section level1">
<div class="page-header"><h1 id="mop">mop<a class="anchor" aria-label="anchor" href="#mop"></a>
</h1></div>
<!-- badges: start --><!-- badges: end --><p>Data from lab instruments are often consistently untidy, and can therefore be programmatically tidied. This package seeks to tidy lab data much like how <code>broom</code> tidies statistical objects, with a couple important differences:</p>
<ol style="list-style-type: decimal">
<li>Each data type must be read in, and has its own <code>read_*</code> function. This can’t really be avoided: there is really no practical way to provide a single function that can accurately and consistently determine the source of a given file.</li>
<li>Outputs from <code>tidy_lab</code> are <em>not</em> <code>data.frame</code>s. They are instead objects that <em>contain</em> tidy data. This allows for packages to interact with these downstream objects in unique ways depending on the data type (ie, making generic functions that utilize these objects). If you would prefer a tidy <code>data.frame</code> (or more specifically, <code>tibble</code>), run <code>scrub</code> on the object.</li>
</ol>
<div class="section level2">
<h2 id="installation">Installation<a class="anchor" aria-label="anchor" href="#installation"></a>
</h2>
<p>This package can be downloaded from <a href="https://github.com/" class="external-link">GitHub</a> with:</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># install.packages("devtools")</span></span>
<span><span class="fu">devtools</span><span class="fu">::</span><span class="fu">install_github</span><span class="op">(</span><span class="st">"KaiAragaki/mop"</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="basic-workflow">Basic Workflow<a class="anchor" aria-label="anchor" href="#basic-workflow"></a>
</h2>
<p>Using <code>mop</code> generally begins with reading in your lab data with it’s respective function. For example, a nanodrop file:</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://kaiaragaki.github.io/mop/">mop</a></span><span class="op">)</span></span>
<span></span>
<span><span class="va">nano</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/system.file.html" class="external-link">system.file</a></span><span class="op">(</span><span class="st">"extdata"</span>, <span class="st">"nanodrop.csv"</span>, package <span class="op">=</span> <span class="st">"mop"</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="reference/read_nanodrop.html">read_nanodrop</a></span><span class="op">(</span>nucleotide <span class="op">=</span> <span class="st">"RNA"</span>, date <span class="op">=</span> <span class="st">"2021-08-14"</span><span class="op">)</span></span>
<span></span>
<span><span class="va">nano</span></span>
<span><span class="co">#&gt; &lt;nanodrop[5]&gt;</span></span>
<span><span class="co">#&gt; # A tibble: 18 × 24</span></span>
<span><span class="co">#&gt;    Date            Sample.Name Nucleic.Acid.ng.… A260.A280 A260.A230  A260  A280</span></span>
<span><span class="co">#&gt;    &lt;chr&gt;           &lt;chr&gt;                   &lt;dbl&gt;     &lt;dbl&gt;     &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;</span></span>
<span><span class="co">#&gt;  1 8/14/2021 8:26… Sample 1                 420.      2.03      2.29 10.5   5.16</span></span>
<span><span class="co">#&gt;  2 8/14/2021 8:27… Sample 2                 450.      2.06      2.26 11.2   5.46</span></span>
<span><span class="co">#&gt;  3 8/14/2021 8:28… Sample 3                 498.      2.06      2.28 12.4   6.03</span></span>
<span><span class="co">#&gt;  4 8/14/2021 8:28… Sample 4                 449.      2.05      2.25 11.2   5.48</span></span>
<span><span class="co">#&gt;  5 8/14/2021 8:29… Sample 5                 474.      2.03      2.29 11.9   5.85</span></span>
<span><span class="co">#&gt;  6 8/14/2021 8:29… Sample 6                 543.      2.00      2.17 13.6   6.80</span></span>
<span><span class="co">#&gt;  7 8/14/2021 8:30… Sample 7                 483.      2.07      2.24 12.1   5.84</span></span>
<span><span class="co">#&gt;  8 8/14/2021 8:31… Sample 8                 588.      2.07      1.97 14.7   7.08</span></span>
<span><span class="co">#&gt;  9 8/14/2021 8:31… Sample 9                 490.      2.07      2.25 12.2   5.91</span></span>
<span><span class="co">#&gt; 10 8/14/2021 8:32… Sample 10                256.      2.03      2.27  6.40  3.15</span></span>
<span><span class="co">#&gt; 11 8/14/2021 8:32… Sample 11                225.      2.03      2.27  5.62  2.77</span></span>
<span><span class="co">#&gt; 12 8/14/2021 8:33… Sample 12                429.      2.06      2.26 10.7   5.22</span></span>
<span><span class="co">#&gt; 13 8/14/2021 8:35… Sample 13                216.      2.02      2.27  5.39  2.66</span></span>
<span><span class="co">#&gt; 14 8/14/2021 8:35… Sample 14                218.      2.03      2.29  5.44  2.68</span></span>
<span><span class="co">#&gt; 15 8/14/2021 8:36… Sample 15                206.      2.03      2.24  5.15  2.54</span></span>
<span><span class="co">#&gt; 16 8/14/2021 8:37… Sample 16                426.      2.07      2.25 10.7   5.15</span></span>
<span><span class="co">#&gt; 17 8/14/2021 8:37… Sample 17                389.      2.06      2.28  9.74  4.73</span></span>
<span><span class="co">#&gt; 18 8/14/2021 8:38… Sample 18                560.      2.04      2.19 14.0   6.88</span></span>
<span><span class="co">#&gt; # … with 17 more variables: Nucleic.Acid.Factor &lt;dbl&gt;,</span></span>
<span><span class="co">#&gt; #   Baseline.Correction..nm. &lt;int&gt;, Baseline.Absorbance &lt;dbl&gt;,</span></span>
<span><span class="co">#&gt; #   Corrected..ng.uL. &lt;lgl&gt;, Corrected..CV &lt;lgl&gt;, Impurity.1 &lt;lgl&gt;,</span></span>
<span><span class="co">#&gt; #   Impurity.1.A260 &lt;lgl&gt;, Impurity.1..CV &lt;lgl&gt;, Impurity.1.mM &lt;lgl&gt;,</span></span>
<span><span class="co">#&gt; #   Impurity.2 &lt;lgl&gt;, Impurity.2.A260 &lt;lgl&gt;, Impurity.2..CV &lt;lgl&gt;,</span></span>
<span><span class="co">#&gt; #   Impurity.2.mM &lt;lgl&gt;, Impurity.3 &lt;lgl&gt;, Impurity.3.A260 &lt;lgl&gt;,</span></span>
<span><span class="co">#&gt; #   Impurity.3..CV &lt;lgl&gt;, Impurity.3.mM &lt;lgl&gt;</span></span>
<span><span class="co">#&gt; # Nucelotide: RNA </span></span>
<span><span class="co">#&gt; # Is tidy: FALSE </span></span>
<span><span class="co">#&gt; # Date: 2021-08-14</span></span></code></pre></div>
<p>Somethings to note:</p>
<ul>
<li>
<code>nano</code> is currently NOT tidy</li>
<li>
<code>nano</code> is a <code>nanodrop</code> object</li>
</ul>
<p>Additionally, <code>read_nanodrop</code> will normally try to extract nucleotide and date information from the file name, but were supplied manually here as the file is named to be understandable.</p>
<p>To tidy any lab object, pass it to <code>tidy_lab</code>:</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">nano_tidy</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/tidy_lab.html">tidy_lab</a></span><span class="op">(</span><span class="va">nano</span><span class="op">)</span></span>
<span><span class="va">nano_tidy</span></span>
<span><span class="co">#&gt; &lt;nanodrop[5]&gt;</span></span>
<span><span class="co">#&gt; # A tibble: 18 × 24</span></span>
<span><span class="co">#&gt;    date        sample_name  conc a260_280 a260_230  a260  a280 nucleic_acid_fac…</span></span>
<span><span class="co">#&gt;    &lt;chr&gt;       &lt;chr&gt;       &lt;dbl&gt;    &lt;dbl&gt;    &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;             &lt;dbl&gt;</span></span>
<span><span class="co">#&gt;  1 2021-08-14… Sample 1     420.     2.03     2.29 10.5   5.16                40</span></span>
<span><span class="co">#&gt;  2 2021-08-14… Sample 2     450.     2.06     2.26 11.2   5.46                40</span></span>
<span><span class="co">#&gt;  3 2021-08-14… Sample 3     498.     2.06     2.28 12.4   6.03                40</span></span>
<span><span class="co">#&gt;  4 2021-08-14… Sample 4     449.     2.05     2.25 11.2   5.48                40</span></span>
<span><span class="co">#&gt;  5 2021-08-14… Sample 5     474.     2.03     2.29 11.9   5.85                40</span></span>
<span><span class="co">#&gt;  6 2021-08-14… Sample 6     543.     2.00     2.17 13.6   6.80                40</span></span>
<span><span class="co">#&gt;  7 2021-08-14… Sample 7     483.     2.07     2.24 12.1   5.84                40</span></span>
<span><span class="co">#&gt;  8 2021-08-14… Sample 8     588.     2.07     1.97 14.7   7.08                40</span></span>
<span><span class="co">#&gt;  9 2021-08-14… Sample 9     490.     2.07     2.25 12.2   5.91                40</span></span>
<span><span class="co">#&gt; 10 2021-08-14… Sample 10    256.     2.03     2.27  6.40  3.15                40</span></span>
<span><span class="co">#&gt; 11 2021-08-14… Sample 11    225.     2.03     2.27  5.62  2.77                40</span></span>
<span><span class="co">#&gt; 12 2021-08-14… Sample 12    429.     2.06     2.26 10.7   5.22                40</span></span>
<span><span class="co">#&gt; 13 2021-08-14… Sample 13    216.     2.02     2.27  5.39  2.66                40</span></span>
<span><span class="co">#&gt; 14 2021-08-14… Sample 14    218.     2.03     2.29  5.44  2.68                40</span></span>
<span><span class="co">#&gt; 15 2021-08-14… Sample 15    206.     2.03     2.24  5.15  2.54                40</span></span>
<span><span class="co">#&gt; 16 2021-08-14… Sample 16    426.     2.07     2.25 10.7   5.15                40</span></span>
<span><span class="co">#&gt; 17 2021-08-14… Sample 17    389.     2.06     2.28  9.74  4.73                40</span></span>
<span><span class="co">#&gt; 18 2021-08-14… Sample 18    560.     2.04     2.19 14.0   6.88                40</span></span>
<span><span class="co">#&gt; # … with 16 more variables: baseline_correction_nm &lt;int&gt;,</span></span>
<span><span class="co">#&gt; #   baseline_absorbance &lt;dbl&gt;, corrected_ngul &lt;lgl&gt;, corrected_cv &lt;lgl&gt;,</span></span>
<span><span class="co">#&gt; #   impurity_1 &lt;lgl&gt;, impurity_1_a260 &lt;lgl&gt;, impurity_1_cv &lt;lgl&gt;,</span></span>
<span><span class="co">#&gt; #   impurity_1_m_m &lt;lgl&gt;, impurity_2 &lt;lgl&gt;, impurity_2_a260 &lt;lgl&gt;,</span></span>
<span><span class="co">#&gt; #   impurity_2_cv &lt;lgl&gt;, impurity_2_m_m &lt;lgl&gt;, impurity_3 &lt;lgl&gt;,</span></span>
<span><span class="co">#&gt; #   impurity_3_a260 &lt;lgl&gt;, impurity_3_cv &lt;lgl&gt;, impurity_3_m_m &lt;lgl&gt;</span></span>
<span><span class="co">#&gt; # Nucelotide: RNA </span></span>
<span><span class="co">#&gt; # Is tidy: TRUE </span></span>
<span><span class="co">#&gt; # Date: 2021-08-14</span></span></code></pre></div>
<p>Of note, our raw data is stored in <code>nano$raw_data</code>.</p>
<p>The operations that make an object tidy vary per object class, and can be found in the object’s documentation (here <code><a href="reference/tidy_lab.nanodrop.html">?tidy_lab.nanodrop</a></code>).</p>
<p>Objects are useful as they form a semi-stable language for other functions from this and other packages to operate on. However, it’s often much simpler to interact with data in a flat <code>tibble</code>. This can be done using <code>scrub</code>:</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">nano_scrub</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/scrub.html">scrub</a></span><span class="op">(</span><span class="va">nano_tidy</span><span class="op">)</span></span>
<span></span>
<span><span class="va">nano_scrub</span><span class="op">[</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1</span><span class="op">:</span><span class="fl">3</span>, <span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/nrow.html" class="external-link">ncol</a></span><span class="op">(</span><span class="va">nano_scrub</span><span class="op">)</span><span class="op">-</span><span class="fl">2</span><span class="op">)</span><span class="op">:</span><span class="fu"><a href="https://rdrr.io/r/base/nrow.html" class="external-link">ncol</a></span><span class="op">(</span><span class="va">nano_scrub</span><span class="op">)</span><span class="op">)</span><span class="op">]</span></span>
<span><span class="co">#&gt; # A tibble: 18 × 6</span></span>
<span><span class="co">#&gt;    date                sample_name  conc exp_date   nucleotide is_tidy</span></span>
<span><span class="co">#&gt;    &lt;chr&gt;               &lt;chr&gt;       &lt;dbl&gt; &lt;date&gt;     &lt;chr&gt;      &lt;lgl&gt;  </span></span>
<span><span class="co">#&gt;  1 2021-08-14 20:26:49 Sample 1     420. 2021-08-14 RNA        TRUE   </span></span>
<span><span class="co">#&gt;  2 2021-08-14 20:27:25 Sample 2     450. 2021-08-14 RNA        TRUE   </span></span>
<span><span class="co">#&gt;  3 2021-08-14 20:28:07 Sample 3     498. 2021-08-14 RNA        TRUE   </span></span>
<span><span class="co">#&gt;  4 2021-08-14 20:28:40 Sample 4     449. 2021-08-14 RNA        TRUE   </span></span>
<span><span class="co">#&gt;  5 2021-08-14 20:29:17 Sample 5     474. 2021-08-14 RNA        TRUE   </span></span>
<span><span class="co">#&gt;  6 2021-08-14 20:29:54 Sample 6     543. 2021-08-14 RNA        TRUE   </span></span>
<span><span class="co">#&gt;  7 2021-08-14 20:30:30 Sample 7     483. 2021-08-14 RNA        TRUE   </span></span>
<span><span class="co">#&gt;  8 2021-08-14 20:31:16 Sample 8     588. 2021-08-14 RNA        TRUE   </span></span>
<span><span class="co">#&gt;  9 2021-08-14 20:31:50 Sample 9     490. 2021-08-14 RNA        TRUE   </span></span>
<span><span class="co">#&gt; 10 2021-08-14 20:32:24 Sample 10    256. 2021-08-14 RNA        TRUE   </span></span>
<span><span class="co">#&gt; 11 2021-08-14 20:32:59 Sample 11    225. 2021-08-14 RNA        TRUE   </span></span>
<span><span class="co">#&gt; 12 2021-08-14 20:33:50 Sample 12    429. 2021-08-14 RNA        TRUE   </span></span>
<span><span class="co">#&gt; 13 2021-08-14 20:35:16 Sample 13    216. 2021-08-14 RNA        TRUE   </span></span>
<span><span class="co">#&gt; 14 2021-08-14 20:35:59 Sample 14    218. 2021-08-14 RNA        TRUE   </span></span>
<span><span class="co">#&gt; 15 2021-08-14 20:36:34 Sample 15    206. 2021-08-14 RNA        TRUE   </span></span>
<span><span class="co">#&gt; 16 2021-08-14 20:37:12 Sample 16    426. 2021-08-14 RNA        TRUE   </span></span>
<span><span class="co">#&gt; 17 2021-08-14 20:37:50 Sample 17    389. 2021-08-14 RNA        TRUE   </span></span>
<span><span class="co">#&gt; 18 2021-08-14 20:38:21 Sample 18    560. 2021-08-14 RNA        TRUE</span></span></code></pre></div>
<p>Note how meta-data fields have now become individual columns.</p>
</div>
</div>
  </main><aside class="col-md-3"><div class="license">
<h2 data-toc-skip>License</h2>
<ul class="list-unstyled">
<li><a href="LICENSE.html">Full license</a></li>
<li><small><a href="https://opensource.org/licenses/mit-license.php" class="external-link">MIT</a> + file <a href="LICENSE-text.html">LICENSE</a></small></li>
</ul>
</div>


<div class="citation">
<h2 data-toc-skip>Citation</h2>
<ul class="list-unstyled">
<li><a href="authors.html#citation">Citing mop</a></li>
</ul>
</div>

<div class="developers">
<h2 data-toc-skip>Developers</h2>
<ul class="list-unstyled">
<li>Kai Aragaki <br><small class="roles"> Author, maintainer </small> <a href="https://orcid.org/0000-0002-9458-0426" target="orcid.widget" aria-label="ORCID" class="external-link"><span class="fab fa-orcid orcid" aria-hidden="true"></span></a> </li>
</ul>
</div>



  </aside>
</div>


    <footer><div class="pkgdown-footer-left">
  <p></p>
<p>Developed by Kai Aragaki.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.5.</p>
</div>

    </footer>
</div>

  

  

  </body>
</html>
